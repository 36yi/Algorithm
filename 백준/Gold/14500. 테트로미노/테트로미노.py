import sys
input = sys.stdin.readline

N, M = map(int, input().split())
board = []
for i in range(N):
    board.append(list(map(int, input().split())))

shapes = (
    ((0,0),(0,1),(0,2),(0,3)), # ㅡ
    ((0,0),(1,0),(2,0),(3,0)), # ㅣ
    ((0,0),(0,1),(1,0),(1,1)), # ㅁ
    ((0,0),(1,0),(2,0),(2,1)), # l 1
    ((0,0),(0,1),(0,2),(1,0)), # l 2
    ((0,0),(0,1),(1,1),(2,1)), # l 3
    ((0,2),(1,0),(1,1),(1,2)), # l 4
    ((0,0),(1,0),(1,1),(2,1)), # z 1
    ((0,1),(0,2),(1,0),(1,1)), # z 2
    ((0,1),(1,0),(1,1),(2,0)), # s 1
    ((0,0),(0,1),(1,1),(1,2)), # s 2
    ((0,1),(1,1),(2,0),(2,1)), # j 1
    ((0,0),(1,0),(1,1),(1,2)), # j 2
    ((0,0),(0,1),(1,0),(2,0)), # j 3
    ((0,0),(0,1),(0,2),(1,2)), # j 4
    ((0,0),(0,1),(0,2),(1,1)), # ㅜ
    ((0,0),(1,0),(1,1),(2,0)), # ㅏ
    ((1,0),(0,1),(1,1),(2,1)), # ㅓ
    ((0,1),(1,0),(1,1),(1,2)) # ㅗ
)
m = 0
for i in range(N):
    for j in range(M):
        for k in range(len(shapes)):
            s = 0
            flag = True
            for l in range(4):
                ci, cj = i + shapes[k][l][0], j + shapes[k][l][1]
                if 0 <= ci < N and 0 <= cj < M:
                    s += board[ci][cj]
                else:
                    flag = False
                    break
            if flag:
                m = max(m,s)
print(m)